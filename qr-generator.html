<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QR Kod Ãœreticisi - HI NIKO</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #6B4423 0%, #8B5A3C 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 40px;
    }

    .card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .card h2 {
      color: #6B4423;
      margin-bottom: 20px;
      font-size: 1.3rem;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 500;
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: #D4A574;
    }

    .btn {
      background: #6B4423;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
      width: 100%;
    }

    .btn:hover {
      background: #8B5A3C;
    }

    #qrCodeContainer {
      text-align: center;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 8px;
      margin-top: 20px;
      display: none;
    }

    #qrCodeContainer.active {
      display: block;
    }

    #qrCodeContainer canvas {
      max-width: 100%;
      height: auto;
    }

    .qr-data {
      margin-top: 15px;
      padding: 10px;
      background: white;
      border-radius: 8px;
      word-break: break-all;
      font-family: monospace;
      font-size: 0.9rem;
    }

    .examples {
      background: #f0f0f0;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 0.85rem;
    }

    .examples h3 {
      color: #6B4423;
      margin-bottom: 10px;
    }

    .examples p {
      margin-bottom: 8px;
      cursor: pointer;
      padding: 8px;
      border-radius: 4px;
      transition: background 0.2s;
    }

    .examples p:hover {
      background: white;
      color: #D4A574;
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .button-group button {
      flex: 1;
    }

    .btn-copy {
      background: #4CAF50;
    }

    .btn-copy:hover {
      background: #45a049;
    }

    .btn-download {
      background: #2196F3;
    }

    .btn-download:hover {
      background: #0b7dda;
    }

    .success-message {
      background: #4CAF50;
      color: white;
      padding: 12px;
      border-radius: 8px;
      margin-top: 10px;
      display: none;
      text-align: center;
    }

    .success-message.show {
      display: block;
    }

    @media (max-width: 768px) {
      .content {
        grid-template-columns: 1fr;
      }

      .header h1 {
        font-size: 1.8rem;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>â˜• QR Kod Ãœreticisi</h1>
      <p>HI NIKO Sistemi iÃ§in QR Kodlar OluÅŸturun</p>
    </div>

    <div class="content">
      <!-- GiriÅŸ Sistemi -->
      <div class="card">
        <h2>ğŸ” KullanÄ±cÄ± GiriÅŸi</h2>
        <div class="form-group">
          <label for="userId">KullanÄ±cÄ± ID'si:</label>
          <input type="text" id="userId" placeholder="Ã¶rn: student123, niko_kahve" value="student001">
        </div>
        <button class="btn" onclick="generateLoginQR()">GiriÅŸ QR Kodu OluÅŸtur</button>
        <div class="examples">
          <h3>ğŸ’¡ Ã–rnekler:</h3>
          <p onclick="setUserIdAndGenerate('student_niko')">student_niko</p>
          <p onclick="setUserIdAndGenerate('ahmet_aydin')">ahmet_aydin</p>
          <p onclick="setUserIdAndGenerate('zeynep_kose')">zeynep_kose</p>
        </div>
      </div>

      <!-- Kahve Ekleme -->
      <div class="card">
        <h2>â˜• Kahve Ekle</h2>
        <div class="form-group">
          <label for="coffeeAmount">Kahve SayÄ±sÄ±:</label>
          <select id="coffeeAmount">
            <option value="1">1 Kahve</option>
            <option value="2">2 Kahve</option>
            <option value="3">3 Kahve</option>
            <option value="5">5 Kahve</option>
            <option value="10">10 Kahve</option>
          </select>
        </div>
        <button class="btn" onclick="generateCoffeeQR()">Kahve QR Kodu OluÅŸtur</button>
        <div class="examples">
          <h3>ğŸ’¡ Ã–rnekler:</h3>
          <p onclick="generateCoffeeQRByAmount(1)">1 Kahve</p>
          <p onclick="generateCoffeeQRByAmount(5)">5 Kahve</p>
          <p onclick="generateCoffeeQRByAmount(10)">10 Kahve</p>
        </div>
      </div>

      <!-- Ã–dÃ¼l QR Kodu -->
      <div class="card">
        <h2>ğŸ Ã–dÃ¼l AktifleÅŸtir</h2>
        <div class="form-group">
          <label for="rewardType">Ã–dÃ¼l TÃ¼rÃ¼:</label>
          <select id="rewardType">
            <option value="kahve">Bedava Kahve</option>
            <option value="pasta">Bedava Pasta</option>
            <option value="special">Ã–zel Hediye Paketi</option>
            <option value="indirim">%20 Ä°ndirim</option>
          </select>
        </div>
        <button class="btn" onclick="generateRewardQR()">Ã–dÃ¼l QR Kodu OluÅŸtur</button>
        <div class="examples">
          <h3>ğŸ’¡ Ã–rnekler:</h3>
          <p onclick="generateRewardQRByType('kahve')">Bedava Kahve</p>
          <p onclick="generateRewardQRByType('pasta')">Bedava Pasta</p>
          <p onclick="generateRewardQRByType('special')">Ã–zel Hediye Paketi</p>
        </div>
      </div>

      <!-- Ders Notu -->
      <div class="card">
        <h2>ğŸ“ Ders Notuna GiriÅŸ</h2>
        <div class="form-group">
          <label for="noteId">Not ID'si:</label>
          <input type="text" id="noteId" placeholder="Ã¶rn: note001, kahve_tarifleri" value="note001">
        </div>
        <button class="btn" onclick="generateNoteQR()">Not QR Kodu OluÅŸtur</button>
        <div class="examples">
          <h3>ğŸ’¡ Ã–rnekler:</h3>
          <p onclick="setNoteIdAndGenerate('note_kahve_hakkinda')">Kahve HakkÄ±nda</p>
          <p onclick="setNoteIdAndGenerate('note_odulgecmis')">Ã–dÃ¼l GeÃ§miÅŸi</p>
          <p onclick="setNoteIdAndGenerate('note_indirimler')">Ä°ndirimler</p>
        </div>
      </div>
    </div>

    <!-- QR Kod GÃ¶sterimi -->
    <div class="card">
      <div id="qrCodeContainer">
        <h3 style="color: #6B4423; margin-bottom: 15px;">OluÅŸturulan QR Kod:</h3>
        <div id="qrCode" style="background: white; display: inline-block; padding: 20px; border-radius: 8px;"></div>
        <div class="qr-data" id="qrData"></div>
        <div class="button-group">
          <button class="btn btn-copy" onclick="copyQRData()">ğŸ“‹ Kopyala</button>
          <button class="btn btn-download" onclick="downloadQR()">â¬‡ï¸ Ä°ndir</button>
        </div>
        <div class="success-message" id="successMessage">âœ… KopyalandÄ±!</div>
      </div>
    </div>

    <!-- Talimatlar -->
    <div class="card">
      <h2 style="color: #6B4423;">ğŸ“– NasÄ±l KullanÄ±lÄ±r?</h2>
      <ol style="line-height: 1.8; color: #333;">
        <li><strong>QR Kod OluÅŸtur:</strong> YukarÄ±daki formlardan birini seÃ§erek QR kod oluÅŸturun</li>
        <li><strong>QR Kodu YazdÄ±r:</strong> "Ä°ndir" butonuyla QR kodunu indir veya ekran gÃ¶rÃ¼ntÃ¼sÃ¼ al</li>
        <li><strong>Tarama Yap:</strong> Ana sayfada "QR TaramasÄ± BaÅŸla" butonuna tÄ±klayÄ±n</li>
        <li><strong>SonuÃ§ Al:</strong> KameranÄ±z QR kodu taradÄ±ÄŸÄ±nda otomatik iÅŸlem gerÃ§ekleÅŸecektir:
          <ul style="margin-left: 20px; margin-top: 10px;">
            <li>âœ… <strong>GiriÅŸ:</strong> KullanÄ±cÄ± sistemde oturum aÃ§ar</li>
            <li>âœ… <strong>Kahve:</strong> Kahve puan kaydedilir ve Ã¶dÃ¼l kontrol edilir</li>
            <li>âœ… <strong>Ã–dÃ¼l:</strong> Ã–dÃ¼l etkinleÅŸtirilir ve kullanÄ±cÄ±ya bildir</li>
            <li>âœ… <strong>Not:</strong> Ders notuna otomatik yÃ¶nlendirilir</li>
          </ul>
        </li>
      </ol>
    </div>
  </div>

  <script>
    let currentQRData = '';

    function generateLoginQR() {
      const userId = document.getElementById('userId').value || 'user001';
      currentQRData = `login=${userId}`;
      displayQR(currentQRData);
    }

    function generateCoffeeQR() {
      const amount = document.getElementById('coffeeAmount').value;
      currentQRData = `coffee=${amount}`;
      displayQR(currentQRData);
    }

    function generateCoffeeQRByAmount(amount) {
      currentQRData = `coffee=${amount}`;
      displayQR(currentQRData);
    }

    function generateRewardQR() {
      const rewardType = document.getElementById('rewardType').value;
      currentQRData = `reward=${rewardType}`;
      displayQR(currentQRData);
    }

    function generateRewardQRByType(rewardType) {
      currentQRData = `reward=${rewardType}`;
      displayQR(currentQRData);
    }

    function generateNoteQR() {
      const noteId = document.getElementById('noteId').value || 'note001';
      currentQRData = `note=${noteId}`;
      displayQR(currentQRData);
    }

    function setUserIdAndGenerate(userId) {
      document.getElementById('userId').value = userId;
      generateLoginQR();
    }

    function setNoteIdAndGenerate(noteId) {
      document.getElementById('noteId').value = noteId;
      generateNoteQR();
    }

    function displayQR(data) {
      const qrContainer = document.getElementById('qrCode');
      const qrDataDisplay = document.getElementById('qrData');
      const container = document.getElementById('qrCodeContainer');

      // Eski QR kodu temizle
      qrContainer.innerHTML = '';

      // Yeni QR kod oluÅŸtur
      new QRCode(qrContainer, {
        text: data,
        width: 300,
        height: 300,
        colorDark: '#6B4423',
        colorLight: '#ffffff',
        correctLevel: QRCode.CorrectLevel.H
      });

      qrDataDisplay.textContent = `ğŸ“± QR Veri: ${data}`;
      container.classList.add('active');
    }

    function copyQRData() {
      navigator.clipboard.writeText(currentQRData).then(() => {
        const msg = document.getElementById('successMessage');
        msg.classList.add('show');
        setTimeout(() => msg.classList.remove('show'), 2000);
      });
    }

    function downloadQR() {
      const canvas = document.querySelector('#qrCode canvas');
      if (canvas) {
        const link = document.createElement('a');
        link.href = canvas.toDataURL('image/png');
        link.download = `qr-${Date.now()}.png`;
        link.click();
      }
    }

    // Sayfa yÃ¼klendiÄŸinde varsayÄ±lan QR kod gÃ¶ster
    window.addEventListener('load', () => {
      generateLoginQR();
    });
  </script>
</body>

</html>